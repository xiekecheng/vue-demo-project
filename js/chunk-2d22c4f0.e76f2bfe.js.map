{"version":3,"sources":["webpack:///./src/views/goods/GoodsAdd.vue?a0d0","webpack:///./node_modules/vue-simple-upload/dist/FileUpload.vue?650d","webpack:///node_modules/vue-simple-upload/dist/FileUpload.vue","webpack:///./node_modules/vue-simple-upload/dist/FileUpload.vue?792e","webpack:///./node_modules/vue-simple-upload/dist/FileUpload.vue","webpack:///src/views/goods/GoodsAdd.vue","webpack:///./src/views/goods/GoodsAdd.vue?68ed","webpack:///./src/views/goods/GoodsAdd.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","attrs","on","progress","startUpload","finishUpload","staticRenderFns","onFileChange","name","props","target","type","String","action","data","file","methods","emitter","$emit","event","updateProgress","oEvent","lengthComputable","vm","percentComplete","console","log","files","length","formData","append","xhr","XMLHttpRequest","open","onloadstart","e","onloadend","upload","onprogress","send","component","components","FileUpload"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,UAAUF,EAAG,aAAa,CAACG,MAAM,CAAC,OAAS,oDAAoD,OAAS,QAAQC,GAAG,CAAC,SAAWR,EAAIS,SAAS,MAAQT,EAAIU,YAAY,OAASV,EAAIW,iBAAiB,IACxTC,EAAkB,GCDlB,EAAS,WAAa,IAAIZ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,cAAcC,GAAG,CAAC,OAASR,EAAIa,iBACnK,EAAkB,GCItB,GACEC,KAAM,aACNC,MAAO,CACLC,OAAQ,CACNC,KAAMC,QAERC,OAAQ,CACNF,KAAMC,SAIVE,KAXF,WAYI,MAAO,CACLC,KAAM,OAGVC,QAAS,CACPC,QADJ,SACA,KACMtB,KAAKuB,MAAMC,EAAOL,IAEpBM,eAJJ,SAIA,GACM,IAAN,OACM,GAAIC,EAAOC,iBAAkB,CAC3B,IAAR,mCACQC,EAAGN,QAAQ,WAAYO,QAGvBD,EAAGN,QAAQ,YAAY,IAG3BV,aAdJ,SAcA,GACM,IAAN,OAEM,GAAKZ,KAAKe,QAA0B,KAAhBf,KAAKe,OAE/B,iCAEA,6CACQe,QAAQC,IAAI,8DACpB,CACQ,IAAR,uCAEQ,IAAKC,EAAMC,OACT,OAMFjC,KAAKoB,KAAOY,EAAM,GAClB,IAAR,eACQE,EAASC,OAAO,OAAQnC,KAAKoB,MAE7B,IAAIgB,EAAM,IAAIC,eACdD,EAAIE,KAAKtC,KAAKkB,OAAQlB,KAAKe,QAE3BqB,EAAIG,YAAc,SAAUC,GAC1BZ,EAAGN,QAAQ,QAASkB,IAEtBJ,EAAIK,UAAY,SAAUD,GACxBZ,EAAGN,QAAQ,SAAUkB,IAEvBJ,EAAIM,OAAOC,WAAaf,EAAGH,eAC3BW,EAAIQ,KAAKV,QA3BTJ,QAAQC,IAAI,yDAFZD,QAAQC,IAAI,oCCvC+P,I,YCO/Qc,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QCHf,GACEC,WAAY,CACVC,WAAJ,GAEE1B,QAAS,CACPZ,YADJ,SACA,GAEMqB,QAAQC,IAAI,cAAeS,IAE7B9B,aALJ,SAKA,GAEMoB,QAAQC,IAAI,eAAgBS,IAE9BhC,SATJ,SASA,GAGMsB,QAAQC,IAAI,WAAYS,MC/BmU,ICO7V,EAAY,eACd,EACA1C,EACAa,GACA,EACA,KACA,WACA,MAIa,e","file":"js/chunk-2d22c4f0.e76f2bfe.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"发布商品\")]),_c('FileUpload',{attrs:{\"target\":\"http://localhost:8080/api/v1/vueadmin/uploadImage\",\"action\":\"POST\"},on:{\"progress\":_vm.progress,\"start\":_vm.startUpload,\"finish\":_vm.finishUpload}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{attrs:{\"type\":\"file\",\"name\":\"fileUpload\"},on:{\"change\":_vm.onFileChange}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <input type=\"file\" name=\"fileUpload\" @change=\"onFileChange\">\n</template>\n\n<script type=\"text/babel\">\nexport default {\n  name: 'fileupload',\n  props: {\n    target: {\n      type: String\n    },\n    action: {\n      type: String\n    }\n  },\n\n  data () {\n    return {\n      file: null\n    }\n  },\n  methods: {\n    emitter (event, data) {\n      this.$emit(event, data)\n    },\n    updateProgress (oEvent) {\n      let vm = this\n      if (oEvent.lengthComputable) {\n        let percentComplete = Math.round(oEvent.loaded * 100 / oEvent.total)\n        vm.emitter('progress', percentComplete)\n      } else {\n        // Unable to compute progress information since the total size is unknown\n        vm.emitter('progress', false)\n      }\n    },\n    onFileChange (e) {\n      let vm = this\n\n      if (!this.target || this.target === '') {\n        console.log('Please provide the target url')\n      } else if (!this.action || this.action === '') {\n        console.log('Please provide file upload action ( POST / PUT )')\n      } else if (this.action !== 'POST' && this.action !== 'PUT') {\n        console.log('File upload component only allows POST and PUT Actions')\n      } else {\n        let files = e.target.files || e.dataTransfer.files\n\n        if (!files.length) {\n          return\n        };\n\n        /*global FormData XMLHttpRequest:true*/\n        /*eslint no-undef: \"error\"*/\n\n        this.file = files[0]\n        let formData = new FormData()\n        formData.append('file', this.file)\n\n        var xhr = new XMLHttpRequest()\n        xhr.open(this.action, this.target)\n\n        xhr.onloadstart = function (e) {\n          vm.emitter('start', e)\n        }\n        xhr.onloadend = function (e) {\n          vm.emitter('finish', e)\n        }\n        xhr.upload.onprogress = vm.updateProgress\n        xhr.send(formData)\n      }\n    }\n  }\n}\n</script>","import mod from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../cache-loader/dist/cjs.js??ref--13-0!../../thread-loader/dist/cjs.js!../../babel-loader/lib/index.js!../../cache-loader/dist/cjs.js??ref--1-0!../../vue-loader/lib/index.js??vue-loader-options!./FileUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileUpload.vue?vue&type=template&id=3ff75144&\"\nimport script from \"./FileUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./FileUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <h1>发布商品</h1>\n    <FileUpload\n      target=\"http://localhost:8080/api/v1/vueadmin/uploadImage\"\n      action=\"POST\"\n      @progress=\"progress\"\n      @start=\"startUpload\"\n      @finish=\"finishUpload\"\n    />\n  </div>\n</template>\n\n<script>\nimport FileUpload from 'vue-simple-upload/dist/FileUpload';\nexport default {\n  components: {\n    FileUpload,\n  },\n  methods: {\n    startUpload(e) {\n      // file upload start event\n      console.log('startUpload', e);\n    },\n    finishUpload(e) {\n      // file upload finish event\n      console.log('finishUpload', e);\n    },\n    progress(e) {\n      // file upload progress\n      // returns false if progress is not computable\n      console.log('progress', e);\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GoodsAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GoodsAdd.vue?vue&type=template&id=5eb66fe8&scoped=true&\"\nimport script from \"./GoodsAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./GoodsAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5eb66fe8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}